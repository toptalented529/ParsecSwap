{"version":3,"sources":["views/EarningPools/EarningWalletConnected/components/EarningWalletTab.tsx","views/EarningPools/hooks/useHavestPool.ts","views/EarningPools/hooks/useStakePool.ts","views/EarningPools/EarningWalletConnected/components/Pool/Actions/PoolHavestAction.tsx","views/EarningPools/EarningWalletConnected/components/Pool/PoolHavestCard.tsx","views/EarningPools/EarningWalletConnected/components/Pool/Modals/NotEnoughTokensModal.tsx","views/EarningPools/EarningWalletConnected/components/Pool/Modals/PercentageButton.tsx","views/EarningPools/hooks/useUnstakePool.ts","views/EarningPools/EarningWalletConnected/components/Pool/Modals/StakeModal.tsx","views/EarningPools/EarningWalletConnected/components/Pool/Actions/PoolStakeAction.tsx","views/EarningPools/EarningWalletConnected/components/Pool/PoolStakeCard.tsx","views/EarningPools/hooks/useApprovePool.ts","views/EarningPools/EarningWalletConnected/components/Pool/PoolCardSelectedModal.tsx","views/EarningPools/EarningWalletConnected/components/Pool/PoolCardItem.tsx","views/EarningPools/EarningWalletConnected/EarningWalletConnected.tsx","state/pools/hooks.ts","utils/calls/farms.ts","utils/calls/pools.ts","utils/calls/nfts.ts","components/BaseLayout.tsx","utils/latinise.ts","hooks/useLastUpdated.ts"],"names":["TabStatus","styled","ButtonMenuItem","theme","isActive","isDark","options","gasLimit","DEFAULT_GAS_LIMIT","harvestPool","sousChefContract","deposit","tx","wait","receipt","status","harvestPoolBnb","value","BIG_ZERO","useHarvestPool","sousId","isUsingBnb","dispatch","useAppDispatch","useWeb3React","account","useSousChef","masterChefContract","useMasterchef","handleHarvest","useCallback","harvestFarm","updateUserPendingReward","updateUserBalance","onReward","sousStake","amount","decimals","BigNumber","times","BIG_TEN","pow","toString","sousStakeBnb","DEFAULT_TOKEN_DECIMAL","useStakePool","handleStake","stakeFarm","updateUserStakedBalance","onStake","ActionButtonContainer","div","ActionButton","Button","PoolHavestAction","onDismiss","earnings","earningToken","isBnbPool","t","useTranslation","fullBalance","getFullDisplayBalance","hasEarnings","toNumber","isCompoundPool","useToast","toastSuccess","toastError","useState","pendingTx","setPendingTx","handleHarvestConfirm","symbol","console","error","disabled","onClick","isLoading","endIcon","spin","color","style","verticalAlign","StyledCard","TokenImageContainer","TokenAmount","Earned","PoolHavestCard","earning","pool","src","getAddress","address","alt","Math","round","getBalanceAmount","StyledLink","Link","StyledButton","StyledButton1","NotEnoughTokensModal","tokenSymbol","title","bold","mt","href","variant","width","external","ml","PercentageButton","children","scale","mx","p","sousUnstake","withdraw","sousEmergencyUnstake","emergencyWithdraw","useUnstakePool","enableEmergencyWithdraw","handleUnstake","unstakeFarm","onUnstake","StyledInput","BalanceInput","mediaQueries","xs","sm","StyledModal","Modal","StakeModal","stakingTokenBalance","stakingTokenPrice","isRemovingStake","stakingToken","userData","stakingLimit","useTheme","stakeAmount","setStakeAmount","hasReachedStakeLimit","setHasReachedStakedLimit","getCalculatedStakingLimit","stakedBalance","gt","usdValueStaked","formatNumber","useEffect","fullDecimalStakeAmount","getDecimalAmount","plus","handleChangePercent","sliderPercent","percentageOfStakingMax","dividedBy","multipliedBy","amountToStake","handleConfirmClick","headerBackground","colors","gradients","cardHeader","mb","textAlign","fontSize","token","alignItems","justifyContent","minWidth","height","onUserInput","input","currencyValue","isWarning","balance","parseFloat","ActionPlusButton","IconButton","PoolStakeAction","isStaked","isFinished","useModal","onPresentTokenRequired","onPresentStake","onPresentUnstake","useTooltip","placement","targetRef","tooltip","tooltipVisible","reachStakingLimit","gte","flexDirection","marginRight","ref","Card","PoolStakeCard","allowance","allowanceAsString","tokenBalanceAsString","stakedBalanceAsString","isApproved","setIsApproved","isAppr","isGreaterThan","poolCategory","PoolCategory","BINANCE","lpContract","earningTokenSymbol","requestedApproval","setRequestedApproval","approved","setapproved","handleApprove","approve","ethers","constants","MaxUint256","log","updateUserAllowance","useApprovePool","useERC20","ConnectWalletButton","ModalContainer","Row","Col","StyledHeader","TokenName","Description","StyledTokenImage","img","CustomModal","pendingReward","earningsAsString","display","StyledCardTitle","StyledBorder","span","ColLeft","ColLeftMin","ColRight","ColRightMin","StyledBadge","StyledBadgeStar","StyledSelectButton","PoolCardItem","onCardClick","apr","totalStaked","endBlock","StyledFlexLayout","BaseLayout","StyledContent","Wrapper","StyledTitle","EarningWalletConnected","useFarms","farmsLP","data","colaPrice","userDataLoaded","usePriceColaBusd","fastRefresh","useRefresh","fetchPoolsUserDataAsync","useSelector","state","pools","map","transformPool","usePools","poolsWithoutAutoVault","userPoolDataLoaded","TabColaStaking","tabStatus","useMemo","partition","stakeColaPools","earnColaPools","usePollFarmsData","slowRefresh","fetchPoolsPublicData","simpleRpcProvider","getBlockNumber","blockNumber","fetchPoolsPublicDataAsync","fetchPoolsStakingLimitsAsync","useFetchPublicPoolsData","activeFarms","filter","farm","pid","multiplier","isArchivedPid","farmsList","farmsToDisplay","farmsToDisplayWithAPR","lpTotalInQuoteToken","quoteToken","busdPrice","totalLiquidity","lpAddress","lpAddresses","getFarmApr","poolWeight","cakeRewardsApr","lpRewardsApr","liquidity","chosenPoolsMemoized","chosenFarms","TabHot","TabEarnCola","TabNFT","TabOthers","TabEnded","chosenPools","pair","getActivePools","block","eligiblePools","undefined","startBlockCalls","contractAddress","name","endBlockCalls","multicall","sousChefV2","startBlocks","endBlocks","reduce","accum","poolCheck","index","startBlock","lte","utils","parseEther","overrides","mintNFT","nftContract","tokenID","mint","burnNFT","burn","getTokenURI","tokenURI","uri","approveMatchaToken","matchaTokenContract","nftExchangeAddr","getApproveMatchaToken","owner","spender","approveNFT","originalNftContract","getApproveNFT","getApproved","buyToken","nftExchangeContract","readyToSellToken","price","cancelSellToken","setCurrentPrice","getAskLength","askLen","getAsks","getAsksDesc","getAsksByPage","page","size","getAsksByPageDesc","getAsksByUser","user","getAsksByUserDesc","GridLayout","Grid","Latinise","latin_map","τ","Τ","latinise","replace","x","useLastUpdated","Date","now","lastUpdated","setStateLastUpdated","previousLastUpdated","usePreviousValue","setLastUpdated"],"mappings":"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","file":"static/js/6.f9e1644c.chunk.js","sourcesContent":["// eslint-disable-next-line\n\nimport React from 'react'\nimport styled from 'styled-components'\nimport { useTranslation } from 'contexts/Localization'\nimport { ButtonMenu, ButtonMenuItem } from 'parsec-swap-uikit'\n\nconst StyledButtonMenuItem = styled(ButtonMenuItem)<{ isActive: boolean }>`\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 21px;\n  color: ${({ theme, isActive }) =>\n    isActive ? 'white' : theme.isDark ? 'rgba(185, 185, 185, 0.39)' : 'rgba(0, 0, 0, 0.39)'};\n`\n// const TabContainer = styled(ButtonMenu)`\n//   background: transparent;\n//   border: none;\n//   margin-top: 10px;\n//   margin-bottom: 10px;\n//   flex-wrap: wrap;\n//   justify-content: center;\n// `\n\n// const TabItem = styled(Text)<{ isActive: boolean }>`\n//   position: relative;\n//   color: ${({ isActive, theme }) =>\n//     theme.isDark ? (isActive ? '#959596' : '#4f5f6f') : isActive ? '#4f5f6f' : '#959596'};\n//   cursor: pointer;\n//   font-size: 22px;\n//   font-weight: bold;\n//   text-decoration: none;\n//   border-bottom: ${({ isActive, theme }) =>\n//     theme.isDark ? (isActive ? '4px solid #959596' : 'none') : isActive ? '4px solid #4f5f6f' : 'none'};\n//   white-space: nowrap;\n//   margin: 10px 30px;\n//   font-family: 'Roboto';\n// `\n\nconst tabBtnArray = [{ id: 1, btnName: 'MOS Staking' }]\n\nexport enum TabStatus {\n  TabHot,\n  TabEarnCola,\n  TabColaStaking,\n  TabOthers,\n  TabNFT,\n  TabEnded,\n}\n\nexport const EarningWalletTab = ({ getCardCount }) => {\n  const { t } = useTranslation()\n\n  // const [tabId, setTabIndex] = useState(0)\n\n  const [tabId, setTabIndex] = React.useState(0)\n\n  const handleClickTab = (newIndex) => {\n    setTabIndex(newIndex)\n    if (newIndex === 0) {\n      getCardCount(TabStatus.TabHot)\n    } else if (newIndex === 1) {\n      getCardCount(TabStatus.TabEarnCola)\n    } else if (newIndex === 2) {\n      getCardCount(TabStatus.TabColaStaking)\n    }\n  }\n\n  return (\n    <ButtonMenu activeIndex={tabId} onItemClick={handleClickTab}>\n      {tabBtnArray.map((tabBtn) => (\n        <StyledButtonMenuItem key={tabBtn.id} isActive={tabBtn.id === tabId}>\n          {t(`${tabBtn.btnName}`)}\n        </StyledButtonMenuItem>\n      ))}\n    </ButtonMenu>\n  )\n}\n","import { useCallback } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { useAppDispatch } from 'state'\nimport { updateUserBalance, updateUserPendingReward } from 'state/actions'\nimport { harvestFarm } from 'utils/calls'\nimport { BIG_ZERO } from 'utils/bigNumber'\nimport { useMasterchef, useSousChef } from 'hooks/useContract'\nimport { DEFAULT_GAS_LIMIT } from 'config'\n\nconst options = {\n  gasLimit: DEFAULT_GAS_LIMIT,\n}\n\nconst harvestPool = async (sousChefContract) => {\n  const tx = await sousChefContract.deposit('0', options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nconst harvestPoolBnb = async (sousChefContract) => {\n  const tx = await sousChefContract.deposit({ ...options, value: BIG_ZERO })\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nconst useHarvestPool = (sousId, isUsingBnb = false) => {\n  const dispatch = useAppDispatch()\n  const { account } = useWeb3React()\n  const sousChefContract = useSousChef(sousId)\n  const masterChefContract = useMasterchef()\n\n  const handleHarvest = useCallback(async () => {\n    if (sousId === 0) {\n      await harvestFarm(masterChefContract, 0)\n    } else if (isUsingBnb) {\n      await harvestPoolBnb(sousChefContract)\n    } else {\n      await harvestPool(sousChefContract)\n    }\n    dispatch(updateUserPendingReward(sousId, account))\n    dispatch(updateUserBalance(sousId, account))\n  }, [account, dispatch, isUsingBnb, masterChefContract, sousChefContract, sousId])\n\n  return { onReward: handleHarvest }\n}\n\nexport default useHarvestPool\n","import { useCallback } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { useAppDispatch } from 'state'\nimport { updateUserStakedBalance, updateUserBalance } from 'state/actions'\nimport { stakeFarm } from 'utils/calls'\nimport BigNumber from 'bignumber.js'\nimport { DEFAULT_TOKEN_DECIMAL, DEFAULT_GAS_LIMIT } from 'config'\nimport { BIG_TEN } from 'utils/bigNumber'\nimport { useMasterchef, useSousChef } from 'hooks/useContract'\n\nconst options = {\n  gasLimit: DEFAULT_GAS_LIMIT,\n}\n\nconst sousStake = async (sousChefContract, amount, decimals = 18) => {\n  const tx = await sousChefContract.deposit(new BigNumber(amount).times(BIG_TEN.pow(decimals)).toString(), options)\n  const receipt = await tx.wait()\n  return receipt.status   \n}\n\nconst sousStakeBnb = async (sousChefContract, amount) => {\n  const tx = await sousChefContract.deposit(new BigNumber(amount).times(DEFAULT_TOKEN_DECIMAL).toString(), options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nconst useStakePool = (sousId: number, isUsingBnb = false) => {\n  const dispatch = useAppDispatch()\n  const { account } = useWeb3React()\n  const masterChefContract = useMasterchef()\n  const sousChefContract = useSousChef(sousId)\n\n  const handleStake = useCallback(\n    async (amount: string, decimals: number) => {\n      if (sousId === 0) {\n        await stakeFarm(masterChefContract, 0, amount)\n      } else if (isUsingBnb) {\n        await sousStakeBnb(sousChefContract, amount)\n      } else {\n        await sousStake(sousChefContract, amount, decimals)\n      }\n      dispatch(updateUserStakedBalance(sousId, account))\n      dispatch(updateUserBalance(sousId, account))\n    },\n    [account, dispatch, isUsingBnb, masterChefContract, sousChefContract, sousId],\n  )\n\n  return { onStake: handleStake }\n}\n\nexport default useStakePool\n","import React, { useState } from 'react'\nimport { Button, AutoRenewIcon } from 'parsec-swap-uikit'\nimport styled from 'styled-components'\nimport BigNumber from 'bignumber.js'\nimport { Token } from 'config/constants/types'\nimport { useTranslation } from 'contexts/Localization'\nimport { getFullDisplayBalance } from 'utils/formatBalance'\nimport useToast from 'hooks/useToast'\nimport useHarvestPool from '../../../../hooks/useHavestPool'\nimport useStakePool from '../../../../hooks/useStakePool'\n\nconst ActionButtonContainer = styled.div`\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  margin-top: 29px;\n`\n\nconst ActionButton = styled(Button)`\n  background-color: #1fc7d4;\n  color: white;\n  padding: 12px 0px;\n  width: 100%;\n  height: 50px;\n  border-radius: 32px;\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 26px;\n  text-align: center;\n  color: #f8f8f8;\n  box-shadow: none;\n  margin: 0px !important;\n`\n\ninterface PoolHavestActionProps {\n  onDismiss: () => void\n  earnings: BigNumber\n  earningToken: Token\n  sousId: number\n  isBnbPool: boolean\n}\n\nconst PoolHavestAction: React.FC<PoolHavestActionProps> = ({\n  onDismiss,\n  earnings,\n  earningToken,\n  sousId,\n  isBnbPool,\n}) => {\n  const { t } = useTranslation()\n\n  const fullBalance = getFullDisplayBalance(earnings, earningToken.decimals)\n  const hasEarnings = earnings.toNumber() > 0\n  const isCompoundPool = sousId === 0\n\n  const { toastSuccess, toastError } = useToast()\n  const { onReward } = useHarvestPool(sousId, isBnbPool)\n  const { onStake } = useStakePool(sousId, isBnbPool)\n  const [pendingTx, setPendingTx] = useState(false)\n\n  const handleHarvestConfirm = async () => {\n    setPendingTx(true)\n    // compounding\n    if (isCompoundPool) {\n      try {\n        await onStake(fullBalance, earningToken.decimals)\n        toastSuccess(\n          `${t('Compounded')}!`,\n          t('Your %symbol% earnings have been re-invested into the pool!', { symbol: earningToken.symbol }),\n        )\n        setPendingTx(false)\n      } catch (e) {\n        toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'))\n        console.error(e)\n        setPendingTx(false)\n      }\n    } else {\n      // harvesting\n      try {\n        await onReward()\n        toastSuccess(\n          `${t('Harvested')}!`,\n          t('Your %symbol% earnings have been sent to your wallet!', { symbol: earningToken.symbol }),\n        )\n        setPendingTx(false)\n      } catch (e) {\n        toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'))\n        console.error(e)\n        setPendingTx(false)\n      }\n    }\n    onDismiss()\n  }\n\n  return (\n    <ActionButtonContainer>\n      <ActionButton\n        disabled={!hasEarnings}\n        onClick={handleHarvestConfirm}\n        isLoading={pendingTx}\n        endIcon={pendingTx ? <AutoRenewIcon spin color=\"currentColor\" /> : null}\n      >\n        <span style={{ verticalAlign: 'text-top' }}>{isCompoundPool ? t('Collect') : t('Harvest')}</span>\n      </ActionButton>\n    </ActionButtonContainer>\n  )\n}\n\nexport default PoolHavestAction\n","// eslint-disable-next-line\nimport React from 'react'\nimport BigNumber from 'bignumber.js'\nimport styled from 'styled-components'\nimport { useTranslation } from 'contexts/Localization'\nimport { getAddress } from 'utils/addressHelpers'\nimport { Pool } from 'state/types'\nimport { getBalanceAmount } from 'utils/formatBalance'\nimport PoolHavestAction from './Actions/PoolHavestAction'\n\nconst StyledCard = styled.div`\n  background: right top no-repeat ${({ theme }) => (theme.isDark ? `#141436` : `#FFFFFF`)};\n  border-radius: 10px;\n  width: 321px;\n  position: relative;\n  color: rgb(197, 133, 96);\n  text-align: center;\n  padding: 19px 15px 25px 15px;\n  @media screen and (max-width: 480px) {\n    width: 100%;\n  }\n`\n\nconst TokenImageContainer = styled.div`\n  text-align: center;\n  padding: 18px 0px;\n  border-radius: 32px;\n  background: ${({ theme }) => (theme.isDark ? 'rgba(0, 0, 0, 0.2)' : 'rgba(0, 0, 0, 0.1)')};\n  & img {\n    height: 75px;\n    width: 75px;\n    margin-bottom: 0px;\n    margin-top: 0px;\n  }\n`\n\nconst TokenAmount = styled.div`\n  box-sizing: border-box;\n  margin: 16px 0px 7px 0px;\n  min-width: 0px;\n  font-weight: 500;\n  font-size: 40px;\n  line-height: 48px;\n  color: ${({ theme }) => (theme.isDark ? '#D6D7E3' : '#000000')};\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`\n\nconst Earned = styled.div`\n  color: ${({ theme }) => (theme.isDark ? '#B9B9B999' : '#00000099')};\n  box-sizing: border-box;\n  margin-top: 8px;\n  min-width: 0px;\n  font-size: 16px;\n  font-weight: 600;\n`\n\nconst PoolHavestCard: React.FC<{ onDismiss: () => void; earning: BigNumber; pool: Pool }> = ({\n  onDismiss,\n  earning,\n  pool,\n}) => {\n  const { t } = useTranslation()\n\n  return (\n    <StyledCard>\n      <TokenImageContainer>\n        <img src={`/images/tokens/${getAddress(pool.earningToken.address)}.png`} alt=\"card-logo\" />\n      </TokenImageContainer>\n      <TokenAmount>{t(`${Math.round(getBalanceAmount(earning).toNumber() * 100000) / 100000}`)}</TokenAmount>\n      <Earned>{t(`${pool.earningToken.symbol} Earned`)}</Earned>\n      <PoolHavestAction\n        onDismiss={onDismiss}\n        earnings={earning}\n        earningToken={pool.earningToken}\n        sousId={pool.sousId}\n        isBnbPool={false}\n      />\n    </StyledCard>\n  )\n}\n\nexport default PoolHavestCard\n","import React from 'react'\nimport { useTranslation } from 'contexts/Localization'\nimport styled from 'styled-components'\nimport { Modal, Text, Button, OpenNewIcon, Link } from 'parsec-swap-uikit'\n// import useTheme from 'hooks/useTheme'\n\ninterface NotEnoughTokensModalProps {\n  tokenSymbol: string\n  onDismiss?: () => void\n}\n\nconst StyledLink = styled(Link)`\n  width: 100%;\n  &:hover {\n    text-decoration: none;\n  }\n`\nconst StyledButton = styled(Button)`\n  background-image: linear-gradient(to left, #991cd1,#d4307a);\n  border-radius:32px;\n  color: white;\n  padding: 12px 0px;\n  width: 100%;\n  height: 50px;\n  border-radius: 32px;\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 26px;\n  text-align: center;\n  color: #f8f8f8;\n  box-shadow: none;\n  margin: 25px 0px 0px 0px !important;\n`\nconst StyledButton1 = styled(Button)`\n  background-color: #ee6c4d;\n  color: white;\n  padding: 12px 0px;\n  width: 100%;\n  height: 50px;\n  border-radius: 32px;\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 26px;\n  text-align: center;\n  color: #f8f8f8;\n  box-shadow: none;\n  margin: 15px 0px 0px 0px !important;\n  border: none;\n  svg {\n    fill: white;\n  }\n`\nconst NotEnoughTokensModal: React.FC<NotEnoughTokensModalProps> = ({ tokenSymbol, onDismiss }) => {\n  const { t } = useTranslation()\n  // const { theme } = useTheme()\n\n  return (\n    <Modal title={t('%symbol% required', { symbol: tokenSymbol })} onDismiss={onDismiss}>\n      <Text color=\"failure\" bold>\n        {t('Insufficient %symbol% balance', { symbol: tokenSymbol })}\n      </Text>\n      <Text mt=\"24px\">{t('You’ll need %symbol% to stake in this pool!', { symbol: tokenSymbol })}</Text>\n      <Text>\n        {t('Buy some %symbol%, or make sure your %symbol% isn’t in another pool or LP.', {\n          symbol: tokenSymbol,\n        })}\n      </Text>\n      <StyledLink href=\"/swap\">\n        <StyledButton variant=\"secondary\" mt=\"24px\" width=\"100%\">\n          {t('Buy')} {tokenSymbol}\n        </StyledButton>\n      </StyledLink>\n      <StyledLink href=\"https://yieldwatch.net\" external>\n        <StyledButton1 variant=\"secondary\" mt=\"8px\" width=\"100%\">\n          {t('Locate Assets')}\n          <OpenNewIcon color=\"primary\" ml=\"4px\" />\n        </StyledButton1>\n      </StyledLink>\n      <Button mt=\"24px\" variant=\"text\" onClick={onDismiss}>\n        {t('Close Window')}\n      </Button>\n    </Modal>\n  )\n}\n\nexport default NotEnoughTokensModal\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Button } from 'parsec-swap-uikit'\n\ninterface PercentageButtonProps {\n  onClick: () => void\n}\n\nconst StyledButton = styled(Button)`\n  flex-grow: 1;\n`\n\nconst PercentageButton: React.FC<PercentageButtonProps> = ({ children, onClick }) => {\n  return (\n    <StyledButton scale=\"xs\" mx=\"2px\" p=\"4px 16px\" variant=\"tertiary\" onClick={onClick}>\n      {children}\n    </StyledButton>\n  )\n}\n\nexport default PercentageButton\n","import { useCallback } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport BigNumber from 'bignumber.js'\nimport { useAppDispatch } from 'state'\nimport { updateUserStakedBalance, updateUserBalance, updateUserPendingReward } from 'state/actions'\nimport { unstakeFarm } from 'utils/calls'\nimport { useMasterchef, useSousChef } from 'hooks/useContract'\nimport { BIG_TEN } from 'utils/bigNumber'\n\nconst sousUnstake = async (sousChefContract, amount, decimals) => {\n  const tx = await sousChefContract.withdraw(new BigNumber(amount).times(BIG_TEN.pow(decimals)).toString())\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nconst sousEmergencyUnstake = async (sousChefContract) => {\n  const tx = await sousChefContract.emergencyWithdraw()\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nconst useUnstakePool = (sousId, enableEmergencyWithdraw = false) => {\n  const dispatch = useAppDispatch()\n  const { account } = useWeb3React()\n  const masterChefContract = useMasterchef()\n  const sousChefContract = useSousChef(sousId)\n\n  const handleUnstake = useCallback(\n    async (amount: string, decimals: number) => {\n      if (sousId === 0) {\n        await unstakeFarm(masterChefContract, 0, amount)\n      } else if (enableEmergencyWithdraw) {\n        await sousEmergencyUnstake(sousChefContract)\n      } else {\n        await sousUnstake(sousChefContract, amount, decimals)\n      }\n      dispatch(updateUserStakedBalance(sousId, account))\n      dispatch(updateUserBalance(sousId, account))\n      dispatch(updateUserPendingReward(sousId, account))\n    },\n    [account, dispatch, enableEmergencyWithdraw, masterChefContract, sousChefContract, sousId],\n  )\n\n  return { onUnstake: handleUnstake }\n}\n\nexport default useUnstakePool\n","import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport { Modal, Text, Flex, Image, Button, BalanceInput, AutoRenewIcon, Link } from 'parsec-swap-uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport useTheme from 'hooks/useTheme'\nimport useToast from 'hooks/useToast'\nimport BigNumber from 'bignumber.js'\nimport { getFullDisplayBalance, formatNumber, getDecimalAmount } from 'utils/formatBalance'\nimport { Pool } from 'state/types'\nimport { getAddress } from 'utils/addressHelpers'\nimport PercentageButton from './PercentageButton'\nimport useStakePool from '../../../../hooks/useStakePool'\nimport useUnstakePool from '../../../../hooks/useUnstakePool'\n\nconst StyledInput = styled(BalanceInput)`\n  box-shadow: none;\n  width: 60px;\n  margin: 0 8px;\n  padding: 0 8px;\n  border-radius: 10px;\n  background-color: ${({ theme }) => (theme.isDark ? '#221712' : '#FFF3E0')};\n  ${({ theme }) => theme.mediaQueries.xs} {\n    width: 80px;\n  }\n\n  ${({ theme }) => theme.mediaQueries.sm} {\n    width: auto;\n  }\n`\nconst StyledLink = styled(Link)`\n  width: 100%;\n`\n\nconst StyledModal = styled(Modal)`\n  background-color: #030923;\n`\n\nconst StyledButton = styled(Button)`\n  background-image: linear-gradient(to left, #991cd1,#d4307a);\n  border-radius:32px;\n  color: white;\n  padding: 12px 0px;\n  width: 100%;\n  height: 40px;\n  border-radius: 32px;\n  font-size: 17px;\n  line-height: 26px;\n  text-align: center;\n  color: #f8f8f8;\n  box-shadow: none;\n  margin: 3px 0px !important;\n  border: none;\n`\n\ninterface StakeModalProps {\n  isBnbPool: boolean\n  pool: Pool\n  stakingTokenBalance: BigNumber\n  stakingTokenPrice: number\n  isRemovingStake?: boolean\n  onDismiss?: () => void\n}\n\nconst StakeModal: React.FC<StakeModalProps> = ({\n  isBnbPool,\n  pool,\n  stakingTokenBalance,\n  stakingTokenPrice,\n  isRemovingStake = false,\n  onDismiss,\n}) => {\n  const { sousId, stakingToken, userData, stakingLimit, earningToken } = pool\n  const { t } = useTranslation()\n  const { theme } = useTheme()\n  const { onStake } = useStakePool(sousId, isBnbPool)\n  const { onUnstake } = useUnstakePool(sousId, pool.enableEmergencyWithdraw)\n  const { toastSuccess, toastError } = useToast()\n  const [pendingTx, setPendingTx] = useState(false)\n  const [stakeAmount, setStakeAmount] = useState('')\n  const [hasReachedStakeLimit, setHasReachedStakedLimit] = useState(false)\n  // const [percent, setPercent] = useState(0)\n  const getCalculatedStakingLimit = () => {\n    if (isRemovingStake) {\n      return userData.stakedBalance\n    }\n    return stakingLimit.gt(0) && stakingTokenBalance.gt(stakingLimit) ? stakingLimit : stakingTokenBalance\n  }\n\n  const usdValueStaked = stakeAmount && formatNumber(new BigNumber(stakeAmount).times(stakingTokenPrice).toNumber())\n\n  useEffect(() => {\n    if (stakingLimit.gt(0) && !isRemovingStake) {\n      const fullDecimalStakeAmount = getDecimalAmount(new BigNumber(stakeAmount), stakingToken.decimals)\n      setHasReachedStakedLimit(fullDecimalStakeAmount.plus(userData.stakedBalance).gt(stakingLimit))\n    }\n  }, [stakeAmount, stakingLimit, userData, stakingToken, isRemovingStake, setHasReachedStakedLimit])\n\n  const handleStakeInputChange = (input: string) => {\n    // if (input) {\n    //   const convertedInput = getDecimalAmount(new BigNumber(input), stakingToken.decimals)\n    //   const percentage = Math.floor(convertedInput.dividedBy(getCalculatedStakingLimit()).multipliedBy(100).toNumber())\n    //   setPercent(Math.min(percentage, 100))\n    // } else {\n    //   setPercent(0)\n    // }\n    setStakeAmount(input)\n  }\n\n  const handleChangePercent = (sliderPercent: number) => {\n    if (sliderPercent > 0) {\n      const percentageOfStakingMax = getCalculatedStakingLimit().dividedBy(100).multipliedBy(sliderPercent)\n      const amountToStake = getFullDisplayBalance(percentageOfStakingMax, stakingToken.decimals, stakingToken.decimals)\n      setStakeAmount(amountToStake)\n    } else {\n      setStakeAmount('')\n    }\n    // setPercent(sliderPercent)\n  }\n\n  const handleConfirmClick = async () => {\n    setPendingTx(true)\n\n    if (isRemovingStake) {\n      // unstaking\n      try {\n        await onUnstake(stakeAmount, stakingToken.decimals)\n        toastSuccess(\n          `${t('Unstaked')}!`,\n          t('Your %symbol% earnings have also been harvested to your wallet!', {\n            symbol: earningToken.symbol,\n          }),\n        )\n        setPendingTx(false)\n        onDismiss()\n      } catch (e) {\n        toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'))\n        setPendingTx(false)\n      }\n    } else {\n      try {\n        // staking\n        await onStake(stakeAmount, stakingToken.decimals)\n        toastSuccess(\n          `${t('Staked')}!`,\n          t('Your %symbol% funds have been staked in the pool!', {\n            symbol: stakingToken.symbol,\n          }),\n        )\n        setPendingTx(false)\n        onDismiss()\n      } catch (e) {\n        toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'))\n        setPendingTx(false)\n      }\n    }\n  }\n\n  return (\n    <StyledModal\n      title={isRemovingStake ? t('Unstake') : t('Stake in Pool')}\n      onDismiss={onDismiss}\n      headerBackground={theme.colors.gradients.cardHeader}\n    >\n      {stakingLimit.gt(0) && !isRemovingStake && (\n        <Text color=\"secondary\" bold mb=\"24px\" style={{ textAlign: 'center' }} fontSize=\"16px\">\n          {t('Max stake for this pool: %amount% %token%', {\n            amount: getFullDisplayBalance(stakingLimit, stakingToken.decimals, 0),\n            token: stakingToken.symbol,\n          })}\n        </Text>\n      )}\n      <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"8px\">\n        <Text bold>{isRemovingStake ? t('Unstake') : t('Stake')}:</Text>\n        <Flex alignItems=\"center\" minWidth=\"70px\">\n          <Image\n            src={`/images/tokens/${getAddress(stakingToken.address)}.png`}\n            width={24}\n            height={24}\n            alt={stakingToken.symbol}\n          />\n          <Text ml=\"4px\" bold>\n            {stakingToken.symbol}\n          </Text>\n        </Flex>\n      </Flex>\n      <StyledInput\n        value={stakeAmount}\n        onUserInput={handleStakeInputChange}\n        currencyValue={stakingTokenPrice !== 0 && `~${usdValueStaked || 0} USD`}\n        isWarning={hasReachedStakeLimit}\n        decimals={stakingToken.decimals}\n      />\n      {hasReachedStakeLimit && (\n        <Text color=\"failure\" fontSize=\"12px\" style={{ textAlign: 'right' }} mt=\"4px\">\n          {t('Maximum total stake: %amount% %token%', {\n            amount: getFullDisplayBalance(new BigNumber(stakingLimit), stakingToken.decimals, 0),\n            token: stakingToken.symbol,\n          })}\n        </Text>\n      )}\n      <Text ml=\"auto\" color=\"textSubtle\" fontSize=\"12px\" mb=\"8px\">\n        {t('Balance: %balance%', {\n          balance: getFullDisplayBalance(getCalculatedStakingLimit(), stakingToken.decimals),\n        })}\n      </Text>\n      {/* <Slider\n        min={0}\n        max={100}\n        value={percent}\n        onValueChanged={handleChangePercent}\n        name=\"stake\"\n        valueLabel={`${percent}%`}\n        step={1}\n      /> */}\n      <Flex alignItems=\"center\" justifyContent=\"space-between\" mt=\"8px\">\n        <PercentageButton onClick={() => handleChangePercent(25)}>25%</PercentageButton>\n        <PercentageButton onClick={() => handleChangePercent(50)}>50%</PercentageButton>\n        <PercentageButton onClick={() => handleChangePercent(75)}>75%</PercentageButton>\n        <PercentageButton onClick={() => handleChangePercent(100)}>{t('Max')}</PercentageButton>\n      </Flex>\n      <StyledButton\n        isLoading={pendingTx}\n        endIcon={pendingTx ? <AutoRenewIcon spin color=\"currentColor\" /> : null}\n        onClick={handleConfirmClick}\n        disabled={!stakeAmount || parseFloat(stakeAmount) === 0 || hasReachedStakeLimit}\n        mt=\"24px\"\n      >\n        {pendingTx ? t('Confirming') : t('Confirm')}\n      </StyledButton>\n      {!isRemovingStake && (\n        <StyledLink external href=\"/swap\">\n          <StyledButton mt=\"8px\" variant=\"secondary\">\n            {t('Get %symbol%', { symbol: stakingToken.symbol })}\n          </StyledButton>\n        </StyledLink>\n      )}\n    </StyledModal>\n  )\n}\n\nexport default StakeModal\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Flex, Button, IconButton, AddIcon, useModal, Skeleton, useTooltip } from 'parsec-swap-uikit'\nimport BigNumber from 'bignumber.js'\n\nimport { useTranslation } from 'contexts/Localization'\nimport { Pool } from 'state/types'\nimport NotEnoughTokensModal from '../Modals/NotEnoughTokensModal'\nimport StakeModal from '../Modals/StakeModal'\n\nconst ActionButtonContainer = styled.div`\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  margin-top: 29px;\n`\n\nconst ActionButton = styled(Button)`\n  background-color: #1fc7d4;\n  color: white;\n  padding: 12px 0px;\n  width: 100%;\n  height: 50px;\n  border-radius: 32px;\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 26px;\n  text-align: center;\n  color: #f8f8f8;\n  box-shadow: none;\n  margin: 0px 10px !important;\n`\n\nconst ActionPlusButton = styled(IconButton)`\n  background-color: #1fc7d4;\n  color: white;\n  padding: 12px 0px;\n  width: 100%;\n  height: 50px;\n  border-radius: 32px;\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 26px;\n  text-align: center;\n  color: #f8f8f8;\n  box-shadow: none;\n  margin: 0px !important;\n`\n\ninterface PoolStakeActionsProps {\n  pool: Pool\n  stakingTokenBalance: BigNumber\n  stakedBalance: BigNumber\n  isBnbPool: boolean\n  isStaked: ConstrainBoolean\n  isLoading?: boolean\n}\n\nconst PoolStakeAction: React.FC<PoolStakeActionsProps> = ({\n  pool,\n  stakingTokenBalance,\n  isBnbPool,\n  isStaked,\n  isLoading = false,\n}) => {\n  const { stakingToken, stakingTokenPrice, stakingLimit, isFinished, userData } = pool\n  const { t } = useTranslation()\n\n  const [onPresentTokenRequired] = useModal(<NotEnoughTokensModal tokenSymbol={stakingToken.symbol} />)\n\n  const [onPresentStake] = useModal(\n    <StakeModal\n      isBnbPool={isBnbPool}\n      pool={pool}\n      stakingTokenBalance={stakingTokenBalance}\n      stakingTokenPrice={stakingTokenPrice}\n    />,\n  )\n\n  const [onPresentUnstake] = useModal(\n    <StakeModal\n      stakingTokenBalance={stakingTokenBalance}\n      isBnbPool={isBnbPool}\n      pool={pool}\n      stakingTokenPrice={stakingTokenPrice}\n      isRemovingStake\n    />,\n  )\n\n  const { targetRef, tooltip, tooltipVisible } = useTooltip(\n    t('You’ve already staked the maximum amount you can stake in this pool!'),\n    { placement: 'bottom' },\n  )\n\n  const reachStakingLimit = stakingLimit.gt(0) && userData.stakedBalance.gte(stakingLimit)\n\n  const renderStakeAction = () => {\n    return isStaked ? (\n      <ActionButtonContainer>\n        <ActionButton onClick={onPresentUnstake} style={{ marginRight: '5px' }}>\n          {t('UnStake')}\n        </ActionButton>\n\n        {reachStakingLimit ? (\n          <span ref={targetRef}>\n            <ActionPlusButton variant=\"tetiary\" disabled>\n              <AddIcon color=\"textDisabled\" width=\"30px\" height=\"30px\" />\n            </ActionPlusButton>\n          </span>\n        ) : (\n          <ActionPlusButton\n            variant=\"tetiary\"\n            onClick={stakingTokenBalance.gt(0) ? onPresentStake : onPresentTokenRequired}\n            disabled={isFinished}\n          >\n            <AddIcon color=\"white\" width=\"30px\" height=\"30px\" />\n          </ActionPlusButton>\n        )}\n        {tooltipVisible && tooltip}\n      </ActionButtonContainer>\n    ) : (\n      <ActionButtonContainer>\n        <ActionButton\n          disabled={isFinished}\n          onClick={stakingTokenBalance.gt(0) ? onPresentStake : onPresentTokenRequired}\n        >\n          {t('Stake')}\n        </ActionButton>\n      </ActionButtonContainer>\n    )\n  }\n\n  return <Flex flexDirection=\"column\">{isLoading ? <Skeleton width=\"100%\" height=\"52px\" /> : renderStakeAction()}</Flex>\n}\n\nexport default PoolStakeAction\n","// eslint-disable-next-line\nimport React, { useState, useCallback, useEffect } from 'react'\nimport styled from 'styled-components'\nimport BigNumber from 'bignumber.js'\nimport { getAddress } from 'utils/addressHelpers'\nimport { useTranslation } from 'contexts/Localization'\nimport { useERC20 } from 'hooks/useContract'\nimport { Pool } from 'state/types'\nimport { getBalanceAmount } from 'utils/formatBalance'\nimport { Button } from 'parsec-swap-uikit'\nimport { PoolCategory } from 'config/constants/types'\nimport ConnectWalletButton from 'components/ConnectWalletButton'\nimport { useApprovePool } from '../../../hooks/useApprovePool'\nimport PoolStakeAction from './Actions/PoolStakeAction'\n\nconst Card = styled.div`\n  background: #141436;\n  border-radius: 10px;\n  width: 321px;\n  position: relative;\n  color: rgb(197, 133, 96);\n  text-align: center;\n  padding: 19px 15px 25px 15px;\n  @media screen and (max-width: 480px) {\n    width: 100%;\n  }\n`\n\nconst TokenImageContainer = styled.div`\n  text-align: center;\n  padding: 18px 0px;\n  border-radius: 32px;\n  background: ${({ theme }) => (theme.isDark ? 'rgba(0, 0, 0, 0.2)' : 'rgba(0, 0, 0, 0.1)')};\n  & img {\n    height: 75px;\n    width: 75px;\n    margin-bottom: 0px;\n    margin-top: 0px;\n  }\n`\n\nconst TokenAmount = styled.div`\n  box-sizing: border-box;\n  margin: 16px 0px 7px 0px;\n  min-width: 0px;\n  font-weight: 500;\n  font-size: 40px;\n  line-height: 48px;\n  color: ${({ theme }) => (theme.isDark ? '#D6D7E3' : '#000000')};\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`\n\nconst Earned = styled.div`\n  color: ${({ theme }) => (theme.isDark ? '#B9B9B999' : '#00000099')};\n  box-sizing: border-box;\n  margin-top: 8px;\n  min-width: 0px;\n  font-size: 16px;\n  font-weight: 600;\n`\n\nconst ActionButtonContainer = styled.div`\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  margin-top: 29px;\n`\n\nconst ActionButton = styled(Button)`\n  background-color: #1fc7d4;\n  color: white;\n  padding: 12px 0px;\n  width: 100%;\n  height: 50px;\n  border-radius: 32px;\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 26px;\n  text-align: center;\n  color: #f8f8f8;\n  box-shadow: none;\n  margin: 0px !important;\n`\n\nconst PoolStakeCard: React.FC<{\n  pool: Pool\n  account?: string\n}> = ({ pool, account }) => {\n  const { t } = useTranslation()\n  const {\n    allowance: allowanceAsString = 0,\n    stakingTokenBalance: tokenBalanceAsString = 0,\n    stakedBalance: stakedBalanceAsString = 0,\n  } = pool.userData || {}\n  const [isApproved, setIsApproved] = useState(false)\n\n  const stakingTokenBalance = new BigNumber(tokenBalanceAsString)\n  const stakedBalance = new BigNumber(stakedBalanceAsString)\n\n  useEffect(() => {\n    const allowance = new BigNumber(allowanceAsString)\n    const isAppr = account && allowance && allowance.isGreaterThan(0)\n    setIsApproved(isAppr)\n  }, [account, allowanceAsString])\n\n  const { sousId, stakingToken, earningToken, poolCategory } = pool\n\n  // Pools using native PSC behave differently than pools using a token\n  const isBnbPool = poolCategory === PoolCategory.BINANCE\n  const isStaked = stakedBalance.gt(0)\n\n  const stakingTokenContract = useERC20(stakingToken.address ? getAddress(stakingToken.address) : '')\n  const { handleApprove, requestedApproval, approved } = useApprovePool(stakingTokenContract, sousId, earningToken.symbol)\n\n  console.log(\"appppp\",isApproved)\n  const renderApprovalOrStakeButton = () => {\n    return isApproved || approved ? (\n      <PoolStakeAction\n        pool={pool}\n        stakingTokenBalance={stakingTokenBalance}\n        stakedBalance={stakedBalance}\n        isBnbPool={isBnbPool}\n        isStaked={isStaked}\n      />\n    ) : (\n      <ActionButtonContainer>\n        <ActionButton disabled={requestedApproval} onClick={handleApprove}>\n          {t('Approve')}\n        </ActionButton>\n      </ActionButtonContainer>\n    )\n  }\n\n  return (\n    <Card>\n      <TokenImageContainer>\n        <img src={`/images/tokens/${getAddress(pool.stakingToken.address)}.png`} alt=\"card-logo\" />\n      </TokenImageContainer>\n      <TokenAmount>{getBalanceAmount(stakedBalance).toNumber()}</TokenAmount>\n      <Earned>{pool.stakingToken.symbol + t(' Staked')}</Earned>\n\n      {!account ? <ConnectWalletButton scale=\"sm\" /> : renderApprovalOrStakeButton()}\n    </Card>\n  )\n}\n\nexport default PoolStakeCard\n","import { useCallback, useEffect, useState } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { ethers, Contract } from 'ethers'\nimport BigNumber from 'bignumber.js'\nimport { useAppDispatch } from 'state'\nimport { updateUserAllowance } from 'state/actions'\nimport { useTranslation } from 'contexts/Localization'\nimport { useCake, useSousChef, useCakeVaultContract } from 'hooks/useContract'\nimport useToast from 'hooks/useToast'\nimport useLastUpdated from 'hooks/useLastUpdated'\n\nexport const useApprovePool = (lpContract: Contract, sousId, earningTokenSymbol) => {\n  const [requestedApproval, setRequestedApproval] = useState(false)\n  const [approved, setapproved] = useState(false)\n  const { toastSuccess, toastError } = useToast()\n  const { t } = useTranslation()\n  const dispatch = useAppDispatch()\n  const { account } = useWeb3React()\n  const sousChefContract = useSousChef(sousId)\n\n  const handleApprove = useCallback(async () => {\n    try {\n      setRequestedApproval(true)\n      const tx = await lpContract.approve(sousChefContract.address, ethers.constants.MaxUint256)\n      const receipt = await tx.wait()\n      console.log(\"ssssssssss\",receipt)\n      dispatch(updateUserAllowance(sousId, account))\n      if (receipt.status) {\n        toastSuccess(\n          t('Contract Enabled'),\n          t('You can now stake in the %symbol% pool!', { symbol: earningTokenSymbol }),\n          )\n          setapproved(true)\n        setRequestedApproval(false)\n      } else {\n        // user rejected tx or didn't go thru\n        toastError(t('Error'), t('SSSSSSSPlease try again. Confirm the transaction and make sure you are paying enough gas!'))\n        setRequestedApproval(false)\n      }\n    } catch (e) {\n      console.error(e)\n      setRequestedApproval(false)\n      toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'))\n    }\n  }, [account, dispatch, lpContract, sousChefContract, sousId, earningTokenSymbol, t, toastError, toastSuccess])\n\n  return { handleApprove, requestedApproval,approved }\n}\n\n// Approve CAKE auto pool\nexport const useVaultApprove = (setLastUpdated: () => void) => {\n  const [requestedApproval, setRequestedApproval] = useState(false)\n  const { t } = useTranslation()\n  const { toastSuccess, toastError } = useToast()\n  const cakeVaultContract = useCakeVaultContract()\n  const cakeContract = useCake()\n\n  const handleApprove = async () => {\n    const tx = await cakeContract.approve(cakeVaultContract.address, ethers.constants.MaxUint256)\n    setRequestedApproval(true)\n    const receipt = await tx.wait()\n    if (receipt.status) {\n      toastSuccess(t('Contract Enabled'), t('You can now stake in the %symbol% vault!', { symbol: 'CAKE' }))\n      setLastUpdated()\n      setRequestedApproval(false)\n    } else {\n      toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'))\n      setRequestedApproval(false)\n    }\n  }\n\n  return { handleApprove, requestedApproval }\n}\n\nexport const useCheckVaultApprovalStatus = () => {\n  const [isVaultApproved, setIsVaultApproved] = useState(false)\n  const { account } = useWeb3React()\n  const cakeContract = useCake()\n  const cakeVaultContract = useCakeVaultContract()\n  const { lastUpdated, setLastUpdated } = useLastUpdated()\n  useEffect(() => {\n    const checkApprovalStatus = async () => {\n      try {\n        const response = await cakeContract.allowance(account, cakeVaultContract.address)\n        const currentAllowance = new BigNumber(response.toString())\n        setIsVaultApproved(currentAllowance.gt(0))\n      } catch (error) {\n        setIsVaultApproved(false)\n      }\n    }\n\n    checkApprovalStatus()\n  }, [account, cakeContract, cakeVaultContract, lastUpdated])\n\n  return { isVaultApproved, setLastUpdated }\n}\n","import React from 'react'\nimport BigNumber from 'bignumber.js'\nimport { getAddress } from 'utils/addressHelpers'\nimport { ModalContainer, InjectedModalProps, ModalCloseButton } from 'parsec-swap-uikit'\nimport { Pool } from 'state/types'\nimport styled from 'styled-components'\n// import TopStakers from '../TopStakers'\nimport PoolHavestCard from './PoolHavestCard'\nimport PoolStakeCard from './PoolStakeCard'\n\nconst StyledModal = styled(ModalContainer)`\n  border: none;\n  box-shadow: none;\n  background-color: ${({ theme }) => (theme.isDark ? `#030923` : `#F0F2FA`)};\n  position: relative;\n  padding: 24px;\n  max-width: 840px;\n  // min-width: 1000px;\n  overflow: auto;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  .cancel {\n    width: 30px;\n    height: 30px;\n    margin-top: 15px;\n    margin-right: 20px;\n  }\n  @media screen and (max-width: 940px) {\n    width: 90%;\n  }\n`\n\nconst StyledCard = styled.div`\n  position: relative;\n  justify-content: center;\n  & Button {\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n  }\n`\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  margin-bottom: 24px;\n  @media screen and (max-width: 940px) {\n    flex-direction: column;\n    margin-bottom: 0;\n  }\n`\n\nconst Col = styled.div`\n  text-align: center;\n  margin: 0 35px;\n  @media screen and (max-width: 940px) {\n    margin: 12px auto;\n  }\n  @media screen and (max-width: 480px) {\n    margin: 12px 0;\n  }\n`\n\nconst StyledHeader = styled.div`\n  color: ${({ theme }) => (theme.isDark ? '#ccccd2' : '#4f5f6f')};\n  text-align: center;\n  margin-bottom: 50px;\n`\n\nconst TokenName = styled.div`\n  box-sizing: border-box;\n  margin: 0px;\n  min-width: 0px;\n  font-size: 45px;\n  font-weight: 700;\n  color: ${({ theme }) => (theme.isDark ? '#ccccd2' : '#4f5f6f')};\n  line-height: 1.7;\n`\n\nconst Description = styled.div`\n  color: ${({ theme }) => (theme.isDark ? '#ccccd2' : '#4f5f6f')};\n  box-sizing: border-box;\n  margin: 0px;\n  min-width: 0px;\n  font-size: 18px;\n  font-weight: 500;\n`\n\nconst StyledTokenImage = styled.img`\n  height: 54px;\n`\n\ninterface PoolCardSelectedModalProps extends InjectedModalProps {\n  pool: Pool\n  account?: string\n}\n\nexport default function CustomModal({ onDismiss = () => null, pool, account }: PoolCardSelectedModalProps) {\n  const { pendingReward: earningsAsString = 0 } = pool.userData || {}\n\n  const earnings = new BigNumber(earningsAsString)\n\n  return (\n    <StyledModal minWidth=\"370px\">\n      <div style={{ textAlign: 'end' }}>\n        <ModalCloseButton onDismiss={onDismiss} />\n      </div>\n      <StyledCard>\n        <StyledHeader>\n          <div style={{ display: 'flex', justifyContent: 'center' }}>\n            <StyledTokenImage src={`/images/tokens/${getAddress(pool.stakingToken.address)}.png`} alt=\"card-logo\" />\n            <StyledTokenImage src={`/images/tokens/${getAddress(pool.earningToken.address)}.png`} alt=\"card-logo\" />\n          </div>\n          <TokenName>\n            {pool.stakingToken.symbol} to {pool.earningToken.symbol}\n          </TokenName>\n          <Description>\n            Deposite {pool.stakingToken.symbol} and earn {pool.earningToken.symbol}\n          </Description>\n        </StyledHeader>\n        <Row>\n          <Col>\n            <PoolHavestCard onDismiss={onDismiss} pool={pool} earning={earnings} />\n          </Col>\n          <Col>\n            <PoolStakeCard pool={pool} account={account} />\n          </Col>\n        </Row>\n        {/* <TopStakers /> */}\n      </StyledCard>\n    </StyledModal>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Button, useModal, AutoRenewIcon } from 'parsec-swap-uikit'\nimport useTheme from 'hooks/useTheme'\nimport { getAddress } from 'utils/addressHelpers'\nimport { Pool } from 'state/types'\nimport { useTranslation } from 'contexts/Localization'\nimport { getBalanceAmount } from 'utils/formatBalance'\nimport PoolCardSelectedModal from './PoolCardSelectedModal'\n\nconst StyledCard = styled.div`\n  background: right top no-repeat ${({ theme }) => (theme.isDark ? `#141436` : `rgb(255, 253, 250);`)};\n  border-radius: 10px;\n  position: relative;\n  width: 321px;\n  margin-bottom: 24px;\n  padding: 19px 15px;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n`\n\nconst StyledCardTitle = styled.div`\n  text-align: center;\n  margin: 18px 0 15px 0;\n  white-space: nowrap;\n  box-sizing: border-box;\n  min-width: 0px;\n  font-weight: 600;\n  font-size: 20px;\n  line-height: 24px;\n  white-space: break-spaces;\n  color: ${({ theme }) => (theme.isDark ? '#D6D7E3' : '#000000')};\n`\n\nconst Row = styled.div`\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 4px;\n  padding: 12px 0px;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 120%;\n`\nconst StyledBorder = styled.span`\n  background: rgba(0, 0, 0, 0.1);\n  height: 1px;\n  display: block;\n`\nconst ColLeft = styled.div`\n  text-align: left;\n  color: ${({ theme }) => (theme.isDark ? '#D6D7E3' : '#000000')};\n`\n\nconst ColLeftMin = styled.div`\n  text-align: left;\n  font-size: 14px;\n  color: ${({ theme }) => (theme.isDark ? '#D6D7E3' : '#000000')};\n`\n\nconst ColRight = styled.div`\n  text-align: right;\n  word-break: break-word;\n  color: ${({ theme }) => (theme.isDark ? '#B9B9B999' : '#00000099')};\n`\n\nconst ColRightMin = styled.div`\n  text-align: right;\n  font-size: 14px;\n  word-break: break-word;\n  color: ${({ theme }) => (theme.isDark ? '#B9B9B999' : '#00000099')};\n`\n\nconst StyledBadge = styled.div`\n  position: absolute;\n  top: -4px;\n  right: 25px;\n  width: 30px;\n  height: 40px;\n  background: url(/images/earning/mark.svg);\n  background-repeat: no-repeat;\n  background-position: center top;\n`\n\nconst StyledBadgeStar = styled.img`\n  filter: ${({ theme }) =>\n    theme.isDark\n      ? `brightness(5) contrast(5) hue-rotate(217deg) saturate(9.9)`\n      : `brightness(5) contrast(5) hue-rotate(217deg) saturate(9.9)`};\n  position: absolute;\n  top: 7px;\n  right: 5px;\n`\n\nconst StyledTokenImage = styled.div`\n  text-align: center;\n  padding: 18px 0px;\n  border-radius: 32px;\n  background: ${({ theme }) => (theme.isDark ? 'rgba(0, 0, 0, 0.2)' : 'rgba(0, 0, 0, 0.1)')};\n  & img {\n    height: 76.5px;\n    width: 76.5px;\n    margin-bottom: 0px;\n    margin-top: 0px;\n  }\n`\n\nconst StyledSelectButton = styled(Button)`\n  background-image: linear-gradient(to left, #991cd1,#d4307a);\n  color: white;\n  padding: 12px 0px;\n  width: 100%;\n  border-radius: 32px;\n  text-align: center;\n  border: 1px solid transparent;\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 26px;\n  letter-spacing: 0.01em;\n  text-transform: none;\n  height: fit-content;\n  margin: 0px !important;\n  box-shadow: none;\n`\n\nconst PoolCardItem: React.FC<{ pool: Pool; account?: string; isLoading: boolean }> = ({ pool, account, isLoading }) => {\n  const theme = useTheme()\n  const { t } = useTranslation()\n\n  const [onCardClick] = useModal(<PoolCardSelectedModal pool={pool} account={account} />)\n  return (\n    <StyledCard>\n      <StyledBadge>\n        <StyledBadgeStar\n          src={theme.isDark ? 'images/earning/icon_star.svg' : 'images/earning/icon_star_white.svg'}\n          alt=\"card-logo\"\n        />\n      </StyledBadge>\n      <StyledTokenImage>\n        <img src={`/images/tokens/${getAddress(pool.stakingToken.address)}.png`} alt=\"card-logo\" />\n        <img src={`/images/tokens/${getAddress(pool.earningToken.address)}.png`} alt=\"card-logo\" />\n      </StyledTokenImage>\n      <StyledCardTitle>{t(`${pool.stakingToken.symbol} to ${pool.earningToken.symbol}`)}</StyledCardTitle>\n      <Row>\n        <ColLeft>{t('Stake:')}</ColLeft>\n        <ColRight>{t(`${getBalanceAmount(pool.userData.stakedBalance)} ${pool.stakingToken.symbol}`)}</ColRight>\n      </Row>\n      <StyledBorder />\n      <Row>\n        <ColLeft>{t('Earn:')}</ColLeft>\n        <ColRight>\n          {t(\n            `${Math.round(getBalanceAmount(pool.userData.pendingReward).toNumber() * 100000) / 100000} ${\n              pool.earningToken.symbol\n            }`,\n          )}\n        </ColRight>\n      </Row>\n      <StyledBorder />\n      <Row>\n        <ColLeft>{t('APR:')}</ColLeft>\n        <ColRight>{t(`${Math.round(pool.apr * 100000) / 100000}`)}</ColRight>\n      </Row>\n      <StyledBorder />\n      <Row>\n        <ColLeftMin>{t('Total staked:')}</ColLeftMin>\n        <ColRightMin>{t(`${getBalanceAmount(pool.totalStaked)}`)}</ColRightMin>\n      </Row>\n      <Row>\n        <ColLeftMin>{t('End in:')}</ColLeftMin>\n        <ColRightMin>{t(`${pool.endBlock} block`)}</ColRightMin>\n      </Row>\n      <Row>\n        <ColLeftMin>{t('Max stake per user:')}</ColLeftMin>\n        <ColRightMin>{t(`${getBalanceAmount(pool.stakingLimit)} `)}</ColRightMin>\n        {/* <ColRightMin style={{ width: '50px', overflow: 'hidden', textOverflow: 'clip' }}>\n          {t(`${pool.stakingLimit}`)}\n        </ColRightMin> */}\n      </Row>\n      <StyledSelectButton\n        onClick={onCardClick}\n        isLoading={isLoading}\n        endIcon={isLoading ? <AutoRenewIcon spin color=\"currentColor\" /> : null}\n      >\n        {isLoading ? 'Loading' : 'SELECT'}\n      </StyledSelectButton>\n    </StyledCard>\n  )\n}\n\nexport default PoolCardItem\n","import React, { useState, useCallback, useMemo } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport BigNumber from 'bignumber.js'\nimport styled from 'styled-components'\n\nimport { useTranslation } from 'contexts/Localization'\nimport { getAddress } from 'utils/addressHelpers'\nimport { useFarms, usePollFarmsData, usePriceColaBusd } from 'state/farms/hooks'\n// import { useFetchPublicPoolsData, usePools, useCakeVault } from 'state/pools/hooks'\nimport { useFetchPublicPoolsData, usePools } from 'state/pools/hooks'\nimport isArchivedPid from 'utils/farmHelpers'\nimport { latinise } from 'utils/latinise'\n// import { Farm, Pool } from 'state/types'\nimport { Farm } from 'state/types'\nimport { getFarmApr } from 'utils/apr'\n// import { orderBy, partition } from 'lodash'\nimport { partition } from 'lodash'\n\nimport { TabStatus, EarningWalletTab } from './components/EarningWalletTab'\nimport WalletCardItem, { FarmWithStakedValue } from './components/WalletCardItem'\nimport PoolCardItem from './components/Pool/PoolCardItem'\nimport BaseLayout from '../../../components/BaseLayout'\n// import { getAprData, getCakeVaultEarnings } from './helpers'\n\nconst StyledFlexLayout = styled(BaseLayout)`\n  justify-content: center;\n  margin: 24px;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 0 20px;\n`\n\nconst StyledContent = styled.div`\n  display: flex;\n  \n  flex-direction: column;\n  align-items: center;\n`\n\nconst Wrapper = styled.div`\nbackground:#030923;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding-top: 30px;\n  -webkit-box-align: center;\n  align-items: center;\n  flex: 1 1 0%;\n  overflow: hidden auto;\n  z-index: 1;\n  min-height: calc(100vh - 64px);\n  // background-color: ${({ theme }) => (theme.isDark ? '#141c23' : '#cfcfcf')};\n  background-size: 150%;\n  // background: #030923;\n  // background-image: ${({ theme }) => (theme.isDark ? `url('/images/background1.png')` : `url('/images/light.png')`)};\n  background-repeat: no-repeat;\n  background-position: center;\n  // background: ${({ theme }) => (theme.isDark ? '#030923' : '#E5E5E5')};\n`\n\nconst StyledTitle = styled.div`  \n  box-sizing: border-box;\n  margin: 0px;\n  min-width: 0px;\n  font-weight: 700;\n  font-size: 25px;\n  line-height: 30px;\n  color: ${({ theme }) => (theme.isDark ? '#D6D7E3' : '#171717')};\n  padding: 10px 0;\n  margin-bottom: 20px;\n`\n\nconst EarningWalletConnected = () => {\n  const { t } = useTranslation()\n  const { data: farmsLP, userDataLoaded: userFarmDataLoaded } = useFarms()\n  const colaPrice = usePriceColaBusd()\n  const { account } = useWeb3React()\n  const { pools: poolsWithoutAutoVault, userDataLoaded: userPoolDataLoaded } = usePools(account)\n  const [tabStatus, setTabStatus] = useState(TabStatus.TabColaStaking)\n  // const [sortOption, setSortOption] = useState('hot')\n\n  // const {\n  //   userData: { cakeAtLastUserAction, userShares },\n  //   fees: { performanceFee },\n  //   pricePerFullShare,\n  //   totalCakeInVault,\n  // } = useCakeVault()\n  // const accountHasVaultShares = userShares && userShares.gt(0)\n  // const performanceFeeAsDecimal = performanceFee && performanceFee / 100\n\n  const pools = useMemo(() => {\n    return [...poolsWithoutAutoVault]\n  }, [poolsWithoutAutoVault])\n\n  const [stakeColaPools] = useMemo(() => partition(pools, (pool) => pool.stakingToken.symbol !== 'MOSS'), [pools])\n  const [earnColaPools] = useMemo(() => partition(pools, (pool) => pool.earningToken.symbol !== 'MOSS'), [pools])\n\n  usePollFarmsData(false)\n  useFetchPublicPoolsData()\n\n  const activeFarms = farmsLP.filter((farm) => farm.pid !== 0 && farm.multiplier !== '0X' && !isArchivedPid(farm.pid))\n\n  const isActive = true\n  const query = ''\n  // const [query, setQuery] = useState('')\n  // const [isActive, setActive] = useState(true)\n\n  const farmsList = useCallback(\n    (farmsToDisplay: Farm[]): FarmWithStakedValue[] => {\n      let farmsToDisplayWithAPR: FarmWithStakedValue[] = farmsToDisplay.map((farm) => {\n        if (!farm.lpTotalInQuoteToken || !farm.quoteToken.busdPrice) {\n          return farm\n        }\n        const totalLiquidity = new BigNumber(farm.lpTotalInQuoteToken).times(farm.quoteToken.busdPrice)\n        const lpAddress = getAddress(farm.lpAddresses)\n        const { cakeRewardsApr, lpRewardsApr } = isActive\n          ? getFarmApr(new BigNumber(farm.poolWeight), colaPrice, totalLiquidity, lpAddress)\n          : { cakeRewardsApr: 0, lpRewardsApr: 0 }\n\n        return { ...farm, apr: cakeRewardsApr, lpRewardsApr, liquidity: totalLiquidity }\n      })\n\n      if (query) {\n        // const lowercaseQuery = latinise(query.toLowerCase())\n        const lowercaseQuery = latinise(query)\n        farmsToDisplayWithAPR = farmsToDisplayWithAPR.filter((farm: FarmWithStakedValue) => {\n          return latinise(farm.lpSymbol.toLowerCase()).includes(lowercaseQuery)\n        })\n      }\n      return farmsToDisplayWithAPR\n    },\n    [colaPrice, query, isActive],\n  )\n\n  const chosenFarmsMemoized = useMemo(() => {\n    let chosenFarms = []\n\n    // const sortFarms = (farms: FarmWithStakedValue[]): FarmWithStakedValue[] => {\n    //   switch (sortOption) {\n    //     case 'apr':\n    //       return orderBy(farms, (farm: FarmWithStakedValue) => farm.apr + farm.lpRewardsApr, 'desc')\n    //     case 'multiplier':\n    //       return orderBy(\n    //         farms,\n    //         (farm: FarmWithStakedValue) => (farm.multiplier ? Number(farm.multiplier.slice(0, -1)) : 0),\n    //         'desc',\n    //       )\n    //     case 'earned':\n    //       return orderBy(\n    //         farms,\n    //         (farm: FarmWithStakedValue) => (farm.userData ? Number(farm.userData.earnings) : 0),\n    //         'desc',\n    //       )\n    //     case 'liquidity':\n    //       return orderBy(farms, (farm: FarmWithStakedValue) => Number(farm.liquidity), 'desc')\n    //     default:\n    //       return farms\n    //   }\n    // }\n\n    switch (tabStatus) {\n      case TabStatus.TabHot:\n        chosenFarms = farmsList(activeFarms)\n        break\n      case TabStatus.TabEarnCola:\n        break\n      case TabStatus.TabColaStaking:\n        break\n      case TabStatus.TabNFT:\n        break\n      case TabStatus.TabOthers:\n        break\n      case TabStatus.TabEnded:\n        break\n      default:\n        break\n    }\n\n    // return sortFarms(chosenFarms)\n    return chosenFarms\n  }, [activeFarms, farmsList, tabStatus])\n  // }, [sortOption, activeFarms, farmsList, tabStatus])\n\n  const chosenPoolsMemoized = useMemo(() => {\n    let chosenPools\n    // const sortPools = (poolsToSort: Pool[]): Pool[] => {\n    //   switch (sortOption) {\n    //     case 'apr':\n    //       // Ternary is needed to prevent pools without APR (like MIX) getting top spot\n    //       return orderBy(\n    //         poolsToSort,\n    //         (pool: Pool) => (pool.apr ? getAprData(pool, performanceFeeAsDecimal).apr : 0),\n    //         'desc',\n    //       )\n    //     case 'earned':\n    //       return orderBy(\n    //         poolsToSort,\n    //         (pool: Pool) => {\n    //           if (!pool.userData || !pool.earningTokenPrice) {\n    //             return 0\n    //           }\n    //           return pool.isAutoVault\n    //             ? getCakeVaultEarnings(\n    //                 account,\n    //                 cakeAtLastUserAction,\n    //                 userShares,\n    //                 pricePerFullShare,\n    //                 pool.earningTokenPrice,\n    //               ).autoUsdToDisplay\n    //             : pool.userData.pendingReward.times(pool.earningTokenPrice).toNumber()\n    //         },\n    //         'desc',\n    //       )\n    //     case 'totalStaked':\n    //       return orderBy(\n    //         poolsToSort,\n    //         (pool: Pool) => (pool.isAutoVault ? totalCakeInVault.toNumber() : pool.totalStaked.toNumber()),\n    //         'desc',\n    //       )\n    //     default:\n    //       return poolsToSort\n    //   }\n    // }\n    chosenPools = []\n\n    switch (tabStatus) {\n      case TabStatus.TabHot:\n        break\n      case TabStatus.TabEarnCola:\n        chosenPools = earnColaPools\n        break\n      case TabStatus.TabColaStaking:\n        chosenPools = stakeColaPools\n        break\n      case TabStatus.TabNFT:\n        break\n      case TabStatus.TabOthers:\n        break\n      case TabStatus.TabEnded:\n        break\n      default:\n        break\n    }\n\n    // return sortPools(chosenPools)\n    return chosenPools\n  }, [\n    // sortOption,\n    // pools,\n    // account,\n    // cakeAtLastUserAction,\n    // performanceFeeAsDecimal,\n    // pricePerFullShare,\n    // totalCakeInVault,\n    // userShares,\n    tabStatus,\n    stakeColaPools,\n    earnColaPools,\n  ])\n\n  const callback = (status) => {\n    setTabStatus(status)\n  }\n\n  return (\n    <Wrapper>\n      <StyledContent>\n        <StyledTitle>{t('Earning')}</StyledTitle>\n\n        {/* <EarningWalletTab getCardCount={callback} /> */}\n\n        <StyledFlexLayout>\n          {chosenPoolsMemoized.map((pool) => (\n            <PoolCardItem key={pool.sousId} pool={pool} account={account} isLoading={!userPoolDataLoaded} />\n          ))}\n        </StyledFlexLayout>\n      </StyledContent>\n    </Wrapper>\n  )\n}\n\nexport default EarningWalletConnected\n","import { useEffect, useMemo } from 'react'\nimport BigNumber from 'bignumber.js'\nimport { useWeb3React } from '@web3-react/core'\nimport { useSelector } from 'react-redux'\nimport { useAppDispatch } from 'state'\nimport { simpleRpcProvider } from 'utils/providers'\nimport useRefresh from 'hooks/useRefresh'\nimport {\n  fetchPoolsPublicDataAsync,\n  fetchPoolsUserDataAsync,\n  fetchCakeVaultPublicData,\n  fetchCakeVaultUserData,\n  fetchCakeVaultFees,\n  fetchPoolsStakingLimitsAsync,\n} from '.'\nimport { State, Pool } from '../types'\nimport { transformPool } from './helpers'\n\nexport const useFetchPublicPoolsData = () => {\n  const dispatch = useAppDispatch()\n  const { slowRefresh } = useRefresh()\n\n  useEffect(() => {\n    const fetchPoolsPublicData = async () => {\n      const blockNumber = await simpleRpcProvider.getBlockNumber()\n      dispatch(fetchPoolsPublicDataAsync(blockNumber))\n    }\n\n    fetchPoolsPublicData()\n    dispatch(fetchPoolsStakingLimitsAsync())\n  }, [dispatch, slowRefresh])\n}\n\nexport const usePools = (account): { pools: Pool[]; userDataLoaded: boolean } => {\n  const { fastRefresh } = useRefresh()\n  const dispatch = useAppDispatch()\n  useEffect(() => {\n    if (account) {\n      dispatch(fetchPoolsUserDataAsync(account))\n    }\n  }, [account, dispatch, fastRefresh])\n\n  const { pools, userDataLoaded } = useSelector((state: State) => ({\n    pools: state.pools.data,\n    userDataLoaded: state.pools.userDataLoaded,\n  }))\n  return { pools: pools.map(transformPool), userDataLoaded }\n}\n\nexport const useFetchCakeVault = () => {\n  const { account } = useWeb3React()\n  const { fastRefresh } = useRefresh()\n  const dispatch = useAppDispatch()\n\n  useEffect(() => {\n    dispatch(fetchCakeVaultPublicData())\n  }, [dispatch, fastRefresh])\n\n  useEffect(() => {\n    dispatch(fetchCakeVaultUserData({ account }))\n  }, [dispatch, fastRefresh, account])\n\n  useEffect(() => {\n    dispatch(fetchCakeVaultFees())\n  }, [dispatch])\n}\n\nexport const useCakeVault = () => {\n  const {\n    totalShares: totalSharesAsString,\n    pricePerFullShare: pricePerFullShareAsString,\n    totalCakeInVault: totalCakeInVaultAsString,\n    estimatedCakeBountyReward: estimatedCakeBountyRewardAsString,\n    totalPendingCakeHarvest: totalPendingCakeHarvestAsString,\n    fees: { performanceFee, callFee, withdrawalFee, withdrawalFeePeriod },\n    userData: {\n      isLoading,\n      userShares: userSharesAsString,\n      cakeAtLastUserAction: cakeAtLastUserActionAsString,\n      lastDepositedTime,\n      lastUserActionTime,\n    },\n  } = useSelector((state: State) => state.pools.cakeVault)\n\n  const estimatedCakeBountyReward = useMemo(() => {\n    return new BigNumber(estimatedCakeBountyRewardAsString)\n  }, [estimatedCakeBountyRewardAsString])\n\n  const totalPendingCakeHarvest = useMemo(() => {\n    return new BigNumber(totalPendingCakeHarvestAsString)\n  }, [totalPendingCakeHarvestAsString])\n\n  const totalShares = useMemo(() => {\n    return new BigNumber(totalSharesAsString)\n  }, [totalSharesAsString])\n\n  const pricePerFullShare = useMemo(() => {\n    return new BigNumber(pricePerFullShareAsString)\n  }, [pricePerFullShareAsString])\n\n  const totalCakeInVault = useMemo(() => {\n    return new BigNumber(totalCakeInVaultAsString)\n  }, [totalCakeInVaultAsString])\n\n  const userShares = useMemo(() => {\n    return new BigNumber(userSharesAsString)\n  }, [userSharesAsString])\n\n  const cakeAtLastUserAction = useMemo(() => {\n    return new BigNumber(cakeAtLastUserActionAsString)\n  }, [cakeAtLastUserActionAsString])\n\n  return {\n    totalShares,\n    pricePerFullShare,\n    totalCakeInVault,\n    estimatedCakeBountyReward,\n    totalPendingCakeHarvest,\n    fees: {\n      performanceFee,\n      callFee,\n      withdrawalFee,\n      withdrawalFeePeriod,\n    },\n    userData: {\n      isLoading,\n      userShares,\n      cakeAtLastUserAction,\n      lastDepositedTime,\n      lastUserActionTime,\n    },\n  }\n}\n","import BigNumber from 'bignumber.js'\nimport { DEFAULT_GAS_LIMIT, DEFAULT_TOKEN_DECIMAL } from 'config'\n\nconst options = {\n  gasLimit: DEFAULT_GAS_LIMIT,\n}\n\nexport const stakeFarm = async (masterChefContract, pair, amount) => {\n  const value = new BigNumber(amount).times(DEFAULT_TOKEN_DECIMAL).toString()\n  const tx = await masterChefContract.deposit(pair, value, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const unstakeFarm = async (masterChefContract, pair, amount) => {\n  const value = new BigNumber(amount).times(DEFAULT_TOKEN_DECIMAL).toString()\n  const tx = await masterChefContract.withdraw(pair, value, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const harvestFarm = async (masterChefContract, pair) => {\n  const tx = await masterChefContract.deposit(pair, '0', options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n","/* eslint-disable import/prefer-default-export */\nimport BigNumber from 'bignumber.js'\nimport pools from 'config/constants/pools'\nimport sousChefV2 from 'config/abi/sousChefV2.json'\nimport multicall from '../multicall'\nimport { simpleRpcProvider } from '../providers'\nimport { getAddress } from '../addressHelpers'\n\n/**\n * Returns the total number of pools that were active at a given block\n */\nexport const getActivePools = async (block?: number) => {\n  const eligiblePools = pools\n    .filter((pool) => pool.sousId !== 0)\n    .filter((pool) => pool.isFinished === false || pool.isFinished === undefined)\n  const blockNumber = block || (await simpleRpcProvider.getBlockNumber())\n  const startBlockCalls = eligiblePools.map(({ contractAddress }) => ({\n    address: getAddress(contractAddress),\n    name: 'startBlock',\n  }))\n  const endBlockCalls = eligiblePools.map(({ contractAddress }) => ({\n    address: getAddress(contractAddress),\n    name: 'bonusEndBlock',\n  }))\n  const startBlocks = await multicall(sousChefV2, startBlockCalls)\n  const endBlocks = await multicall(sousChefV2, endBlockCalls)\n\n  return eligiblePools.reduce((accum, poolCheck, index) => {\n    const startBlock = startBlocks[index] ? new BigNumber(startBlocks[index]) : null\n    const endBlock = endBlocks[index] ? new BigNumber(endBlocks[index]) : null\n\n    if (!startBlock || !endBlock) {\n      return accum\n    }\n\n    if (startBlock.gte(blockNumber) || endBlock.lte(blockNumber)) {\n      return accum\n    }\n\n    return [...accum, poolCheck]\n  }, [])\n}\n","import { DEFAULT_GAS_LIMIT } from 'config'\nimport { ethers } from 'ethers'\n\nconst options = {\n  gasLimit: ethers.utils.parseEther('0.0000000000003'),\n}\n\nconst overrides = {\n  value: ethers.utils.parseEther('0.1'),\n  gasLimit: DEFAULT_GAS_LIMIT,\n}\n\nexport const mintNFT = async (nftContract, tokenID) => {\n  const tx = await nftContract.mint(tokenID, overrides)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const burnNFT = async (nftContract, address, tokenID) => {\n  const tx = await nftContract.burn(address, tokenID, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const getTokenURI = async (nftContract, address, tokenID) => {\n  const uri = await nftContract.tokenURI(tokenID)\n  return uri\n}\n\n// Exchange\nexport const approveMatchaToken = async (matchaTokenContract, nftExchangeAddr, amount) => {\n  const tx = await matchaTokenContract.approve(nftExchangeAddr, amount, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const getApproveMatchaToken = async (matchaTokenContract, owner, spender) => {\n  const value = await matchaTokenContract.allowance(owner, spender)\n  return value\n}\n\nexport const approveNFT = async (originalNftContract, nftExchangeAddr, tokenID) => {\n  const tx = await originalNftContract.approve(nftExchangeAddr, tokenID, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const getApproveNFT = async (originalNftContract, tokenID) => {\n  const address = await originalNftContract.getApproved(tokenID)\n  return address\n}\n\nexport const buyToken = async (nftExchangeContract, tokenID) => {\n  const tx = await nftExchangeContract.buyToken(tokenID, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const readyToSellToken = async (nftExchangeContract, tokenID, price) => {\n  const tx = await nftExchangeContract.readyToSellToken(tokenID, price, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const cancelSellToken = async (nftExchangeContract, tokenID) => {\n  const tx = await nftExchangeContract.cancelSellToken(tokenID, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const setCurrentPrice = async (nftExchangeContract, tokenID, price) => {\n  const tx = await nftExchangeContract.setCurrentPrice(tokenID, price, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const getAskLength = async (nftExchangeContract) => {\n  const askLen = await nftExchangeContract.getAskLength()\n  return askLen\n}\n\nexport const getAsks = async (nftExchangeContract) => {\n  const askLen = await nftExchangeContract.getAsks()\n  return askLen\n}\n\nexport const getAsksDesc = async (nftExchangeContract) => {\n  const askLen = await nftExchangeContract.getAsksDesc()\n  return askLen\n}\n\nexport const getAsksByPage = async (nftExchangeContract, page, size) => {\n  const askLen = await nftExchangeContract.getAsksByPage(page, size)\n  return askLen\n}\n\nexport const getAsksByPageDesc = async (nftExchangeContract, page, size) => {\n  const askLen = await nftExchangeContract.getAsksByPageDesc(page, size)\n  return askLen\n}\n\nexport const getAsksByUser = async (nftExchangeContract, user) => {\n  const askLen = await nftExchangeContract.getAsksByUser(user)\n  return askLen\n}\n\nexport const getAsksByUserDesc = async (nftExchangeContract, user) => {\n  const askLen = await nftExchangeContract.getAsksByUserDesc(user)\n  return askLen\n}\n","import styled from 'styled-components'\nimport { Grid } from 'parsec-swap-uikit'\n\nconst GridLayout = styled(Grid)`\n  grid-template-columns: repeat(1, 1fr);\n  grid-gap: 16px;\n  @media screen and (min-width: 660px) {\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: 24px;\n  }\n  @media screen and (min-width: 1260px) {\n    grid-template-columns: repeat(3, 1fr);\n    grid-gap: 24px;\n  }\n`\n\nexport default GridLayout\n","export const Latinise = {\n  latin_map: {\n    τ: 't',\n    Τ: 'T',\n  },\n}\n\nexport const latinise = (input: string) => {\n  return input.replace(/[^A-Za-z0-9[\\] ]/g, (x) => Latinise.latin_map[x] || x)\n}\n","import { useCallback, useState } from 'react'\nimport usePreviousValue from './usePreviousValue'\n\n/**\n * A helper hook to keep track of the time between events\n * Can also be used to force an effect to re-run\n */\nconst useLastUpdated = () => {\n  const [lastUpdated, setStateLastUpdated] = useState(Date.now())\n  const previousLastUpdated = usePreviousValue(lastUpdated)\n\n  const setLastUpdated = useCallback(() => {\n    setStateLastUpdated(Date.now())\n  }, [setStateLastUpdated])\n\n  return { lastUpdated, previousLastUpdated, setLastUpdated }\n}\n\nexport default useLastUpdated\n"],"sourceRoot":""}